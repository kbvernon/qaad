<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Lab 03</title>

<script src="03-Statistical_Inference_files/header-attrs/header-attrs.js"></script>
<script src="03-Statistical_Inference_files/jquery/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<link href="03-Statistical_Inference_files/bootstrap/bootstrap.min.css" rel="stylesheet" />
<script src="03-Statistical_Inference_files/bootstrap/bootstrap.bundle.min.js"></script>
<script src="03-Statistical_Inference_files/bs3compat/transition.js"></script>
<script src="03-Statistical_Inference_files/bs3compat/tabs.js"></script>
<script src="03-Statistical_Inference_files/bs3compat/bs3compat.js"></script>
<script src="03-Statistical_Inference_files/jqueryui/jquery-ui.min.js"></script>
<link href="03-Statistical_Inference_files/tocify/jquery.tocify.css" rel="stylesheet" />
<script src="03-Statistical_Inference_files/tocify/jquery.tocify.js"></script>
<script src="03-Statistical_Inference_files/navigation/tabsets.js"></script>
<link href="03-Statistical_Inference_files/highlightjs/default.css" rel="stylesheet" />
<script src="03-Statistical_Inference_files/highlightjs/highlight.js"></script>
<script src="03-Statistical_Inference_files/clipboard/clipboard.min.js"></script>
<link href="03-Statistical_Inference_files/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
<script src="03-Statistical_Inference_files/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
<script>window.xaringanExtraClipboard(null, {"button":"<i class=\"fa fa-clipboard\"><\/i>","success":"<i class=\"fa fa-check\" style=\"color: #90BE6D\"><\/i>","error":"Press Ctrl+C to Copy"})</script>
<link href="03-Statistical_Inference_files/font-awesome/css/all.css" rel="stylesheet" />
<link href="03-Statistical_Inference_files/font-awesome/css/v4-shims.css" rel="stylesheet" />
<script src="03-Statistical_Inference_files/kePrint/kePrint.js"></script>
<link href="03-Statistical_Inference_files/lightable/lightable.css" rel="stylesheet" />

<script type="text/javascript">

  $(document).ready(function () {
    
    const ttl = $('.title.toc-ignore').text();
    const subttl = $('.subtitle').text();
    
    $('.title.toc-ignore').remove();
    $('.subtitle').remove();
    
    $('<h1 class = "title toc-ignore">' + ttl + '</h1><h3 class = "subtitle">' + subttl + '</h3>')
      .appendTo('.tocify');
    
    $('.section.level2:first').show();
      
  });
  
  $(window).on('load', function() {
  
    $('.tocify-item.list-group-item').click(function(event){
        
      $('.section.level2').hide();
      
      var id = $(this).data('unique');
      
      $('#'+id).show(100, function(){
        $('html').scrollTop(0);
      });
      
    });
  
  });

</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">



<h1 class="title toc-ignore">Lab 03</h1>
<h3 class="subtitle">Statistical Inference</h3>

</div>


<div id="Outline" class="section level2">
<h2>Outline</h2>
<p><strong>tl;dr</strong> reading and writing data, visualizing distributions, and testing hypotheses.</p>
<div id="objectives" class="section level3 objectives">
<h3 class="objectives">Objectives</h3>
<p>This lab will guide you through the process of</p>
<ol style="list-style-type: decimal">
<li>importing and exporting data tables
<ul>
<li>and writing <em>relative</em> file paths with <code>here</code></li>
</ul></li>
<li>visualizing distributions with histograms</li>
<li>running Student’s t-test</li>
<li>performing an ANOVA</li>
</ol>
</div>
<div id="r-packages" class="section level3">
<h3>R Packages</h3>
<p>We will be using the following packages:</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/archdata/index.html">archdata</a></li>
<li><a href="https://ggplot2.tidyverse.org/index.html">ggplot2</a></li>
<li><a href="https://here.r-lib.org/">here</a></li>
<li><a href="https://docs.ropensci.org/skimr/">skimr</a></li>
</ul>
<p>To install these packages, run the following code in your console:</p>
<pre class="r"><code>install.packages(
  c(&quot;archdata&quot;, &quot;ggplot2&quot;, &quot;here&quot;, &quot;skimr&quot;)
)</code></pre>
<p>Make sure to attach these into your R session with <code>library()</code>. This should always go at the start of your document!</p>
<pre class="r"><code>library(archdata)
library(ggplot2)
library(here)
library(palmerpenguins)
library(skimr)</code></pre>
</div>
<div id="data" class="section level3">
<h3>Data</h3>
<ul>
<li><code>cars</code>
<ul>
<li>Includes measurements of car speed and stopping distance.</li>
<li>package: <code>datasets</code></li>
<li>reference: <a href="https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/cars.html" class="uri">https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/cars.html</a></li>
</ul></li>
<li><code>titanic</code>
<ul>
<li>Provides information on the fate of passengers of the Titanic, including economic status, sex, age, and survival.</li>
<li>package: <code>dviz.supp</code></li>
<li>reference: <a href="https://wilkelab.org/SDS375/" class="uri">https://wilkelab.org/SDS375/</a></li>
<li>note: we’re going to download this one rather than get it from a package</li>
</ul></li>
<li><code>Snodgrass</code>
<ul>
<li>Includes measurements of size, location, and contents of 91 pit houses at the Snodgrass site in Butler County, Missouri.</li>
<li>reference: <a href="https://cran.r-project.org/web/packages/archdata/archdata.pdf" class="uri">https://cran.r-project.org/web/packages/archdata/archdata.pdf</a></li>
</ul></li>
</ul>
</div>
</div>
<div id="Data_IO" class="section level2">
<h2>Data IO</h2>
<p>To import and export “rectangular” data into R - that’s data that comes in the form of a table with columns and rows - R provides two functions <code>read.csv()</code> and <code>write.csv()</code>. Actually, R has lots of functions for getting that kind of data into R, but we’re going to focus on those two in particular. Before getting to those functions though, we need to talk about file paths.</p>
<p>To read and write data into R, you have to point R to where that data lives on your computer, meaning you have to specify a path to the file that holds the data. This is not a nuisance in and of itself, but it can be, for the more chaotic and disorganized your file system, the more time consuming and error prone this process can be. Consider how easy it would be to introduce a typo - a typo that R would object to! - when you have to type this again and again:</p>
<pre><code>D:/Users/Leslie_Knope/qaad-course/data/penguins.csv</code></pre>
<p>And all you wanted was your data on Palmer penguins! But, it’s worse than that. If you change the name of that file or move it somewhere else on your computer, that will break the file path you are using, requiring you to re-write it to get to where the data now reside.</p>
<p>Enough! There’s a better way! It’s the <code>here</code> package.</p>
<div class="figure" style="text-align: center">
<img src="https://github.com/allisonhorst/stats-illustrations/blob/master/rstats-artwork/here.png?raw=true" alt="Illustration by [Allison Horst](https://github.com/allisonhorst/stats-illustrations/)."  />
<p class="caption">
Illustration by <a href="https://github.com/allisonhorst/stats-illustrations/">Allison Horst</a>.
</p>
</div>
<p>The <code>here</code> package makes it easy to reference files by building paths from the top-level directory of an R project that contains those files. Consider this demo project directory:</p>
<pre><code>## D:/Users/Leslie_Knope/qaad-course
## +-- data
## |   +-- dart_points.csv
## |   +-- penguins.csv
## |   \-- raw
## |       \-- penguins_raw.csv
## +-- figures
## |   \-- my_r_plot.png
## +-- misc
## +-- qaad-course.Rproj
## \-- R
##     +-- lab01.html
##     +-- lab01.Rmd
##     +-- lab02.Rmd
##     \-- vernon-proposal.Rmd</code></pre>
<p>You see a couple of things here.</p>
<ol style="list-style-type: decimal">
<li>The full path to the top-level directory for this project is <em>D:/Users/Leslie_Knope/qaad-course</em>.</li>
<li>The project includes four sub-folders: <em>data</em>, <em>figures</em>, <em>misc</em>, and <em>R</em>.</li>
<li>The project includes one R project file <em>qaad-course.Rproj</em>.</li>
</ol>
<p>If you open this project in RStudio and type <code>here::here()</code> in the console, it will give you the path to the top-level project directory (the folder that contains the .Rproj file).</p>
<pre class="r"><code>here::here()

## [1] &quot;D:/Users/Leslie_Knope/qaad-course&quot;</code></pre>
<p>You can specify additional folders and files to the <code>here()</code> function to navigate around this project folder. For instance, if you want to point to the raw penguins data in the sub-sub-folder <em>raw</em>, you would do it like this:</p>
<pre class="r"><code>here::here(&quot;data&quot;, &quot;raw&quot;, &quot;penguins_raw.csv&quot;)

## [1] &quot;D:/Users/Leslie_Knope/qaad-course/data/raw/penguins_raw.csv&quot;</code></pre>
<p>And as you see, it builds the entire path for you. This should key you into a very, very important lesson:</p>
<blockquote>
<p>Whenever you start a new research project, create an R project folder and strive as far as possible to keep all data and code associated with that project in the project folder. This will make it easier to access the data in your R scripts with <code>here()</code>!</p>
</blockquote>
<p>Now, let’s talk about <code>read.csv()</code> and <code>write.csv()</code>. The process of using these is quite simple. Let’s start with <code>write.csv()</code>. It goes like this:</p>
<pre class="r"><code>write.csv(penguins, file = here(&quot;data&quot;, &quot;penguins.csv&quot;))</code></pre>
<p>Here, I tell the function that I want to write the penguins data to a csv file (<em>csv</em> is short for “Commas-separated values”). I also tell the function where that file should be saved and what it should be called. Notice that I use the <code>here()</code> function to do this! I have said, “Save the penguins data to a file, call it <em>penguins.csv</em> and put it in the <em>data</em> folder in the project directory.”</p>
<p>If you haven’t already, try running that code. Then navigate to your project folder and see if the penguins data was successfully saved to your project’s <em>data</em> folder.</p>
<p>Once you have run that code, you can read the file you created back into R with <code>read.csv()</code>.</p>
<pre class="r"><code>penguins2 &lt;- read.csv(here(&quot;data&quot;, &quot;penguins.csv&quot;))</code></pre>
<p>Notice that I assigned the table to <code>penguins2</code>. This is to ensure that I can continue to work with it in R.</p>
<div id="exercises" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li>Use <code>here()</code> to build paths to the <em>figures</em>, <em>data</em>, and <em>R</em> folders in your project directory.</li>
<li>Use <code>write.csv()</code> and <code>here()</code> to write the <code>cars</code> data to a file called <em>cars.csv</em> in your project’s <em>data</em> folder.</li>
<li>Remove the cars data from your environment with <code>remove(cars)</code>. If you look in the environment pane of RStudio (in the top right corner), you should see that the <code>cars</code> table has been removed.</li>
<li>Now read <em>cars.csv</em> back into R with <code>read.csv()</code> and <code>here()</code> and assign it to <code>cars</code>. Check to make sure the table is back in your environment.</li>
</ol>
</div>
</div>
<div id="Histograms" class="section level2">
<h2>Histograms</h2>
<p><strong>Note!</strong> Before you work through this section, add the following line of code to your Rmd document for this lab and run it. If you have a stable internet connection, you can actually use <code>read.csv()</code> to download tables that are stored online, and we’re using that here to get data on the Titanic.</p>
<pre class="r"><code>titanic &lt;- read.csv(&quot;https://raw.githubusercontent.com/wilkelab/SDS375/master/datasets/titanic.csv&quot;)</code></pre>
<p>A histogram is an excellent aid for visualizing the distribution of numerical data. Making one involves “binning” a continuous variable,n counting the number of observations that fall into each bin, then drawing a rectangle for each bin whose height is proportional to the count for that bin. A good example of this is the distribution of a population over age ranges. Consider, for example, the age distribution of the passengers of the Titanic. First, let’s look at the frequency table:</p>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Age Range
</th>
<th style="text-align:right;">
Count
</th>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
Age Range
</th>
<th style="text-align:right;">
Count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
0–5
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
41–45
</td>
<td style="text-align:right;">
54
</td>
</tr>
<tr>
<td style="text-align:left;">
6–10
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
46–50
</td>
<td style="text-align:right;">
50
</td>
</tr>
<tr>
<td style="text-align:left;">
11–15
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
51–55
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
16–20
</td>
<td style="text-align:right;">
99
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
56–60
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
21–25
</td>
<td style="text-align:right;">
139
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
61–65
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
26–30
</td>
<td style="text-align:right;">
121
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
66–70
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
31–35
</td>
<td style="text-align:right;">
76
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
71–75
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
36–40
</td>
<td style="text-align:right;">
74
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
76–80
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<p>Here we have binned the ages into 5 year intervals. We can plot this distribution with a histogram using <code>ggplot()</code> and <code>geom_histogram()</code> like so:</p>
<pre class="r"><code>ggplot(titanic) +
  geom_histogram(
    aes(age)
  )
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="03-Statistical_Inference_files/figure-html/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Notice that <code>ggplot2</code> provides an informative message that the default number of bins used in this plot is 30, which makes the age interval for each bin about 2.5 years. We can (and SHOULD!) change this by specifying a different number of bins with <code>bins</code>.</p>
<pre class="r"><code>ggplot(titanic) +
  geom_histogram(
    aes(age),
    bins = 15
  )</code></pre>
<p><img src="03-Statistical_Inference_files/figure-html/unnamed-chunk-14-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>As always, you can change the <code>fill</code> and outline <code>color</code> for these plots by supplying those parameters to the geometry. We can also clean up the labels with <code>labs()</code> and change the theme if we like (and we do). And since the heights of these bars are what we care about, we can turn off the light vertical grid lines that <code>ggplot2</code> adds by default by specifying this as a <code>theme()</code> option.</p>
<pre class="r"><code>ggplot(titanic) +
  geom_histogram(
    aes(age),
    bins = 15,
    fill = &quot;goldenrod&quot;,
    color = &quot;darkred&quot;
  ) +
  labs(
    x = &quot;Age (years)&quot;,
    y = &quot;Count&quot;,
    title = &quot;Age Distribution&quot;,
    subtitle = &quot;Passengers of the Titanic&quot;
  ) +
  theme_minimal() +
  theme(
    panel.grid.major.x = element_blank(),
    panel.grid.minor.x = element_blank()
  )</code></pre>
<p><img src="03-Statistical_Inference_files/figure-html/unnamed-chunk-15-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="exercises-1" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li>Create a histogram of penguin bill length using the <code>penguins</code> dataset. Then do all of the following:
<ul>
<li>Change the number of bins (try two different options).</li>
<li>Change the fill and outline color.</li>
<li>Reset the labels to be more informative.</li>
<li>Change the theme and remove the vertical grid lines.</li>
</ul></li>
</ol>
</div>
</div>
<div id="Students_t-test" class="section level2">
<h2>Students t-test</h2>
<p>We use Student’s t-test (technically, Welch’s two-sample t-test) to evaluate whether two samples come from the same population. This test compares the difference in sample means to a t-distribution to determine its probability - the more improbable, the less likely the samples come from the same distribution. To perform this test in R, we use the <code>t.test()</code> function, providing it with two samples.</p>
<p>As an example, suppose we want to answer the following:</p>
<p><strong>Question:</strong> Do our two samples of hobbits come from the same population?</p>
<p>And we have measurements on the quantity of beer they consume in a given evening (measured in pints). Here are our two samples:</p>
<pre class="r"><code>sample1 &lt;- c(1.7, 1.5, 2.9, 0.6, 0.8, 1.9)
sample2 &lt;- c(0.8, 0.1, 0.3, 0.4, 0.1, 1.0)</code></pre>
<p>Before we run the test, let’s make sure we have our hypotheses clear.</p>
<ul>
<li><span class="math inline">\(H_0\)</span>: There is NO difference in mean beer consumption (<span class="math inline">\(\mu_1 = \mu_2\)</span>)</li>
<li><span class="math inline">\(H_1\)</span>: There is a difference in mean beer consumption (<span class="math inline">\(\mu_1 \neq \mu_2\)</span>)</li>
</ul>
<p>We also need to specify our critical value. Here, we’ll stick with the standard in science:</p>
<ul>
<li><span class="math inline">\(\alpha = 0.05\)</span></li>
</ul>
<p>Now, we can run our test!</p>
<pre class="r"><code>t.test(sample1, sample2)
## 
##  Welch Two Sample t-test
## 
## data:  sample1 and sample2
## t = 3.0102, df = 6.9446, p-value = 0.01984
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  0.2380655 1.9952678
## sample estimates:
## mean of x mean of y 
##  1.566667  0.450000</code></pre>
<p>Notice the output that R has provided here. You have the name of the test: Welch Two Sample t-test (this is a version of Student’s t-test for two independent samples). It gives you the t-statistic, the degrees of freedom (<code>df</code>), and the p-value. It also states the alternative hypothesis and gives you the mean of each sample. In this case, <span class="math inline">\(p &lt; \alpha\)</span>. Hence, we reject the null. These hobbits are definitely strange.</p>
<p>If your samples are in a table, you can also call <code>t.test()</code> with a formula. So, assume your data above are in a table like so:</p>
<pre class="r"><code>samples &lt;- data.frame(
  pints = c(1.7, 1.5, 2.9, 0.6, 0.8, 1.9, 0.8, 0.1, 0.3, 0.4, 0.1, 1.0),
  sample = c(rep(1, 6), rep(2, 6))
)

samples
##    pints sample
## 1    1.7      1
## 2    1.5      1
## 3    2.9      1
## 4    0.6      1
## 5    0.8      1
## 6    1.9      1
## 7    0.8      2
## 8    0.1      2
## 9    0.3      2
## 10   0.4      2
## 11   0.1      2
## 12   1.0      2</code></pre>
<p>Then you would run the <code>t.test()</code> this way:</p>
<pre class="r"><code>t.test(pints ~ sample, data = samples)
## 
##  Welch Two Sample t-test
## 
## data:  pints by sample
## t = 3.0102, df = 6.9446, p-value = 0.01984
## alternative hypothesis: true difference in means between group 1 and group 2 is not equal to 0
## 95 percent confidence interval:
##  0.2380655 1.9952678
## sample estimates:
## mean in group 1 mean in group 2 
##        1.566667        0.450000</code></pre>
<p>You can read this as saying, “Run a t-test comparing the mean amount of beer drank in each sample using this dataset.” You will notice that the results are the same, we just called the function in a slightly different way because of how we had the data stored.</p>
<div id="exercises-2" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li>Perform a t-test on these two samples of dwarves and their beer consumption (measured in pints).
<ul>
<li>Be sure to specify the null and alternate hypotheses.</li>
<li>State the critical value.</li>
<li>Run the test and print the results.</li>
</ul></li>
</ol>
<pre class="r"><code>sample1 &lt;- c(8.5, 7.5, 14.5, 3.0, 4.0, 9.5)
sample2 &lt;- c(12.2, 1.53, 4.5, 6.12, 1.5,15.30)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Based on the test, do you accept or reject the null hypothesis? Why?</li>
</ol>
</div>
</div>
<div id="ANOVA" class="section level2">
<h2>ANOVA</h2>
<p>Like the t-test, the ANOVA is used to test for a difference between samples, to see whether they come from the same population. Unlike the t-test, however, the ANOVA can be used on more than two samples. It does by decomposing the total variance into within and between group variance. The proportion of these defines the F-statistic, which the test compares to the F-distribution to evaluate its probability. A highly improbably F-statistic means that at least one group or sample comes from a different population. To perform this test in R, we use the <code>aov()</code> function.</p>
<p>As an example, suppose we have height measurements (let’s say in feet) for three groups in Middle Earth and we want to know the following:</p>
<p><strong>Question:</strong> Are these samples from the same population? Are they all hobbits or all dwarves? Humans? Elves? Orcs?</p>
<p>Here is our data.</p>
<pre class="r"><code>samples &lt;- data.frame(
  height = c(3, 4, 5, 6, 4, 5, 6, 7, 7, 8, 9, 10),
  sample = c(1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3)
)

samples
##    height sample
## 1       3      1
## 2       4      1
## 3       5      1
## 4       6      1
## 5       4      2
## 6       5      2
## 7       6      2
## 8       7      2
## 9       7      3
## 10      8      3
## 11      9      3
## 12     10      3</code></pre>
<p>As always, we first specify our null and alternate hypotheses and the critical value we will use to determine whether to reject the null.</p>
<ul>
<li><span class="math inline">\(H_0\)</span>: There is no difference in height between groups.</li>
<li><span class="math inline">\(H_1\)</span>: At least one group differs in height.</li>
</ul>
<p>And our critical value, again, will be 0.05.</p>
<ul>
<li><span class="math inline">\(\alpha = 0.05\)</span></li>
</ul>
<p>Now, we can conduct our test.</p>
<pre class="r"><code>aov_test &lt;- aov(height ~ sample, data = samples)</code></pre>
<p>There are two things to note here. First, we are assigning the output of this ANOVA test to an object. Second, we call the test using a formula, in this case <code>height ~ sample</code>. The full call to <code>aov()</code> you can read as saying, “Perform an analysis of variance comparing the heights for each sample in this dataset.” If we print this object, it looks like this:</p>
<pre class="r"><code>aov_test
## Call:
##    aov(formula = height ~ sample, data = samples)
## 
## Terms:
##                   sample Residuals
## Sum of Squares  32.00000  17.66667
## Deg. of Freedom        1        10
## 
## Residual standard error: 1.32916
## Estimated effects may be unbalanced</code></pre>
<p>While this printout offers some useful information, a much more useful and informative summary of the test is provided by an <strong>ANOVA table</strong>. We can generate one of these by running the <code>summary()</code> function on our test.</p>
<pre class="r"><code>summary(aov_test)
##             Df Sum Sq Mean Sq F value  Pr(&gt;F)   
## sample       1  32.00   32.00   18.11 0.00167 **
## Residuals   10  17.67    1.77                   
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>This table has two rows, one for the between-group variance and one for the within-group variance respectively. As you can see, R refers to these, somewhat cryptically, as the Sample and Residuals. The reason for this concerns the fact that the <code>aov()</code> function is actually fitting a linear model, but let’s leave that detail to the side. For now, just note that the columns are, in order,</p>
<ol style="list-style-type: decimal">
<li>the degrees of freedom,</li>
<li>the sum of squares,</li>
<li>the mean sum of squares (the sum of squares divided by the degrees of freedom),</li>
<li>the F-statistic (the ratio of the mean sum of squares), and</li>
<li>the p-value (determined by comparing the F-statistic to the F-distribution).</li>
</ol>
<p>In this case, <span class="math inline">\(p &lt; \alpha\)</span>, so we reject the null hypothesis, meaning that at least one of these groups is different.</p>
<div id="exercises-3" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li>Perform an ANOVA on these four samples of people from Middle Earth and their heights (measured in feet).
<ul>
<li>Be sure to specify the null and alternate hypotheses.</li>
<li>State the critical value.</li>
<li>Run the test and print the results.</li>
<li>Be sure to assign the test to an object.</li>
<li>Provide a <code>summary()</code> of the test.</li>
</ul></li>
</ol>
<pre class="r"><code>samples &lt;- data.frame(
  height = c(6, 4, 5, 6, 9, 10, 7, 3, 4, 5, 7, 8, 4, 4, 7, 3),
  sample = c(1, 1, 1, 1, 2, 2,  2, 2, 3, 3, 3, 3, 4, 4, 4, 4)
)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Based on the test, do you accept or reject the null hypothesis? Why?</li>
</ol>
</div>
</div>
<div id="Homework" class="section level2">
<h2>Homework</h2>
<ol style="list-style-type: decimal">
<li>Load the <code>Snodgrass</code> dataset from the <code>archdata</code> package using <code>data(Snodgrass)</code>. This dataset includes measurements of pithouses found in a small village affiliated with maize farmers in Missouri about 650 years ago.
<ul>
<li>Save this table to your project’s <em>data</em> folder with <code>write.csv()</code> and <code>here()</code>.</li>
<li>Run <code>remove(Snodgrass)</code>. This removes the table from your environment.</li>
<li>Load the <code>Snodgrass</code> table back into R with <code>read.csv()</code> and <code>here()</code>.</li>
<li>Make sure you assign the table to an object called <code>Snodgrass</code>.</li>
<li>Use <code>skim()</code> to summarize this data.</li>
</ul></li>
<li>Calculate the mean and standard deviation of the inside floor area of each pithouse using <code>mean()</code> and <code>sd()</code>. You’ll need to pull the <code>Area</code> variable out of the table with <code>Snodgrass$Area</code>. Hint: if you were to calculate the variance, you would use <code>var(Snodgrass$Area)</code>.</li>
<li>Use <code>ggplot()</code> and <code>geom_histogram()</code> to plot a histogram showing the distribution of floor area. Make sure to do all of the following (only need to make one graph):
<ul>
<li>Change the default number of bins.</li>
<li>Change the fill and outline color.</li>
<li>Update the labels and the plot title.</li>
<li>Choose an appropriate theme and remove the vertical grid lines.</li>
</ul></li>
<li>Some of these pithouses occur inside a walled-in portion of the village. This information is provided by the <code>Inside</code> variable in the dataset. Run a t-test to determine whether the mean floor area of pithouses inside the walled-in area differs significantly from the mean floor area of pithouses outside the wall.
<ul>
<li>These data are in a table, so make sure to use the formula notation.</li>
<li>State the null and alternative hypotheses.</li>
<li>Specify the critical value.</li>
<li>Run the test and print the result.</li>
<li>Does the test confirm or refute the null hypothesis? Why?</li>
<li>How would you interpret this result?</li>
</ul></li>
<li>The pithouses were initially divided into three groups or “segments” based on their location: segment one includes those inside the wall, segment two those to the north and west of the wall, and segment three those to the east and south of the wall. Run an ANOVA test to determine whether mean floor area for these groups is significantly different.
<ul>
<li>State the null and alternative hypotheses.</li>
<li>Specify the critical value.</li>
<li>Run the test and print the result.</li>
<li>Be sure to assign the result to an object.</li>
<li>Provide a <code>summary()</code> of the test.</li>
<li>Does the test confirm or refute the null hypothesis? Why?</li>
<li>How would you interpret this result?</li>
</ul></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
