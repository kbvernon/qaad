<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Lab 05</title>

<script src="05-Linear_Models-2_files/header-attrs/header-attrs.js"></script>
<script src="05-Linear_Models-2_files/jquery/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<link href="05-Linear_Models-2_files/bootstrap/bootstrap.min.css" rel="stylesheet" />
<script src="05-Linear_Models-2_files/bootstrap/bootstrap.bundle.min.js"></script>
<script src="05-Linear_Models-2_files/bs3compat/transition.js"></script>
<script src="05-Linear_Models-2_files/bs3compat/tabs.js"></script>
<script src="05-Linear_Models-2_files/bs3compat/bs3compat.js"></script>
<script src="05-Linear_Models-2_files/jqueryui/jquery-ui.min.js"></script>
<link href="05-Linear_Models-2_files/tocify/jquery.tocify.css" rel="stylesheet" />
<script src="05-Linear_Models-2_files/tocify/jquery.tocify.js"></script>
<script src="05-Linear_Models-2_files/navigation/tabsets.js"></script>
<link href="05-Linear_Models-2_files/highlightjs/default.css" rel="stylesheet" />
<script src="05-Linear_Models-2_files/highlightjs/highlight.js"></script>
<script src="05-Linear_Models-2_files/clipboard/clipboard.min.js"></script>
<link href="05-Linear_Models-2_files/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
<script src="05-Linear_Models-2_files/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
<script>window.xaringanExtraClipboard(null, {"button":"<i class=\"fa fa-clipboard\"><\/i>","success":"<i class=\"fa fa-check\" style=\"color: #90BE6D\"><\/i>","error":"Press Ctrl+C to Copy"})</script>
<link href="05-Linear_Models-2_files/font-awesome/css/all.css" rel="stylesheet" />
<link href="05-Linear_Models-2_files/font-awesome/css/v4-shims.css" rel="stylesheet" />
<script src="05-Linear_Models-2_files/kePrint/kePrint.js"></script>
<link href="05-Linear_Models-2_files/lightable/lightable.css" rel="stylesheet" />

<script type="text/javascript">

  $(document).ready(function () {
    
    const ttl = $('.title.toc-ignore').text();
    const subttl = $('.subtitle').text();
    
    $('.title.toc-ignore').remove();
    $('.subtitle').remove();
    
    $('<h1 class = "title toc-ignore">' + ttl + '</h1><h3 class = "subtitle">' + subttl + '</h3>')
      .appendTo('.tocify');
    
    $('.section.level2:first').show();
      
  });
  
  $(window).on('load', function() {
  
    $('.tocify-item.list-group-item').click(function(event){
        
      $('.section.level2').hide();
      
      var id = $(this).data('unique');
      
      $('#'+id).show(100, function(){
        $('html').scrollTop(0);
      });
      
    });
  
  });

</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">



<h1 class="title toc-ignore">Lab 05</h1>
<h3 class="subtitle">Diagnostic Tests and Diagnostic Plots</h3>

</div>


<div id="Outline" class="section level2">
<h2>Outline</h2>
<p><strong>TL;DR</strong> wrangling data tables, visualizing distributions with boxplots, linear models, diagnostic tests, and diagnostic plots.</p>
<p><strong>Caution!</strong> Please note that all labs assume that you are working in an RStudio Project directory!</p>
<div id="objectives" class="section level3">
<h3>Objectives</h3>
<p>This lab will guide you through the process of</p>
<ol style="list-style-type: decimal">
<li>working with data tables using <code>dplyr</code>
<ul>
<li>extracting variables with <code>pull()</code></li>
<li>choosing variables with <code>select()</code></li>
<li>subsetting observations with <code>filter()</code></li>
<li>sorting observations with <code>arrange()</code></li>
<li>making pretty tables with <code>tibble()</code></li>
</ul></li>
<li>visualizing distributions with boxplots</li>
<li>evaluating a linear model with the ANOVA
<ul>
<li>interpreting model summaries in R</li>
</ul></li>
</ol>
</div>
<div id="r-packages" class="section level3">
<h3>R Packages</h3>
<p>We will be using the following packages:</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/archdata/index.html">archdata</a></li>
<li><a href="https://dplyr.tidyverse.org/">dplyr</a></li>
<li><a href="https://ggplot2.tidyverse.org/index.html">ggplot2</a></li>
<li><a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a></li>
<li><a href="https://tibble.tidyverse.org/">tibble</a></li>
</ul>
<p>To install these packages, <strong>run the following code in your console</strong>:</p>
<pre class="r"><code>install.packages(
  c(&quot;archdata&quot;, &quot;dplyr&quot;, &quot;ggplot2&quot;, &quot;palmerpenguins&quot;, &quot;tibble&quot;)
)</code></pre>
<p><strong>Note:</strong> You should not <code>install.packages()</code> in an Rmd document. Use that function in your R console instead. Then use <code>library()</code> as part of the preamble in your Rmd document to check packages out of the library and use them in that R session. This should always go at the start of your document!</p>
<pre class="r"><code>library(archdata)
library(dplyr)
library(ggplot2)
library(palmerpenguins)
library(tibble)</code></pre>
</div>
<div id="data" class="section level3">
<h3>Data</h3>
<ul>
<li><code>DartPoints</code>
<ul>
<li>Includes measurements of 91 Archaic dart points recovered during surface surveys at Fort Hood, Texas.</li>
<li>package: <code>archdata</code></li>
<li>reference: <a href="https://cran.r-project.org/web/packages/archdata/archdata.pdf" class="uri">https://cran.r-project.org/web/packages/archdata/archdata.pdf</a></li>
</ul></li>
<li><code>OxfordPots</code>
<ul>
<li>Includes percentages of late Romano-British Oxford Pottery on 30 sites, along with their distance from Oxford.</li>
<li>reference: <a href="https://cran.r-project.org/web/packages/archdata/archdata.pdf" class="uri">https://cran.r-project.org/web/packages/archdata/archdata.pdf</a></li>
</ul></li>
<li><code>penguins</code>
<ul>
<li>Includes measurements for penguin species, island in Palmer Archipelago, size (flipper length, body mass, bill dimensions), and sex.</li>
<li>package: <code>palmerpenguins</code></li>
<li>reference: <a href="https://allisonhorst.github.io/palmerpenguins/reference/penguins.html" class="uri">https://allisonhorst.github.io/palmerpenguins/reference/penguins.html</a></li>
</ul></li>
</ul>
</div>
</div>
<div id="Tidy_Tables_Review" class="section level2">
<h2>Tidy Tables Review</h2>
<div class="figure" style="text-align: center">
<img src="images/r-tables.png" alt="Elements of a Data Table" width="446" />
<p class="caption">
Elements of a Data Table
</p>
</div>
<p>In the following sections, we are going to learn how to work with the <code>dplyr</code> package, so called because it provides tools like “pliers” for working with tabular data. This is easily one of the most useful packages in the entire R ecosystem. The ability to quickly and cleanly manipulate data to prepare it for analysis is just unmatched by anything else out there. The syntax that <code>dplyr</code> uses for its functions is also infinitely easier to read and understand. Before we jump into that, however, let’s remind ourselves of the three conventions for tidy data:</p>
<ol style="list-style-type: decimal">
<li>Each variable must have its own column.</li>
<li>Each observation must have its own row.</li>
<li>Each value must have its own cell.</li>
</ol>
<p>Here we are going to focus on the functionality <code>dplyr</code> offers to <code>select()</code> variables and <code>filter()</code> observations. As a warm up, though, we’ll first have a look at how to extract a single variable as a vector from a table with <code>pull()</code>. We’ll then talk about a few quirks of the package, like its use of <code>tibbles</code> rather than base <code>data.frames</code>.</p>
</div>
<div id="Select_Variables" class="section level2">
<h2>Select Variables</h2>
<div id="extract-variables" class="section level3">
<h3>Extract variables</h3>
<p>The base R way of extracting a single variable is to use <code>&lt;table&gt;[["&lt;variable&gt;"]]</code> or <code>&lt;table&gt;$&lt;variable&gt;</code>.</p>
<pre class="r"><code>bill_length &lt;- penguins$bill_length_mm
bill_depth &lt;- penguins[[&quot;bill_depth_mm&quot;]]</code></pre>
<p>The <code>dplyr</code> way to do this, which is somewhat easier to understand is to use <code>pull()</code>, as in <em>pull the variable from the table</em>.</p>
<pre class="r"><code>bill_length &lt;- pull(penguins, bill_length_mm)
bill_depth &lt;- pull(penguins, bill_depth_mm)</code></pre>
</div>
<div id="select-variables" class="section level3">
<h3>Select variables</h3>
<p>Note that <code>pull()</code> returns a single variable (called a “vector” in R) along with all its values. If you want to select one or more variables but return the result as a table, use <code>select()</code>. For instance, here are the variables in the <code>penguins</code> dataset.</p>
<pre class="r"><code>names(penguins)
## [1] &quot;species&quot;           &quot;island&quot;            &quot;bill_length_mm&quot;   
## [4] &quot;bill_depth_mm&quot;     &quot;flipper_length_mm&quot; &quot;body_mass_g&quot;      
## [7] &quot;sex&quot;               &quot;year&quot;</code></pre>
<p>Now suppose (for reasons) that I want a smaller table that only has the <code>species</code> and <code>bill_length_mm</code> variables. To get that from the larger table, I simply do this</p>
<pre class="r"><code>penguins_small &lt;- select(penguins, species, bill_length_mm)

penguins_small
## # A tibble: 344 x 2
##    species bill_length_mm
##    &lt;fct&gt;            &lt;dbl&gt;
##  1 Adelie            39.1
##  2 Adelie            39.5
##  3 Adelie            40.3
##  4 Adelie            NA  
##  5 Adelie            36.7
##  6 Adelie            39.3
##  7 Adelie            38.9
##  8 Adelie            39.2
##  9 Adelie            34.1
## 10 Adelie            42  
## # ... with 334 more rows</code></pre>
</div>
<div id="exercises" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li>Remind yourself of what variables the penguins table has with <code>names()</code>.</li>
<li>Now, extract a variable of your choice with <code>pull()</code>.</li>
<li>Subset the data by choosing only four variables of your choice with <code>select()</code>.</li>
</ol>
</div>
</div>
<div id="Filter_Observations" class="section level2">
<h2>Filter Observations</h2>
<p>Subsetting data by filtering observations is a little bit more involved than simply selecting variables, but intuitively, you are simply asking for those observations that satisfy a certain condition. Getting <code>filter()</code> to return those observations requires that you pass it an expression containing a comparison operator. The expression is then evaluated by R for its truth or falsity, with observations that evaluate to <code>TRUE</code> being returned, observations that evaluate to <code>FALSE</code> being ignored. Let’s walk through an example, then try to break down what is happening in a little more detail. Suppose we want only those observations of penguins residing on Biscoe Island. Here is how we would go about collecting those observations from our penguins data.frame.</p>
<pre class="r"><code>biscoe_penguins &lt;- filter(penguins, island == &quot;Biscoe&quot;)

head(biscoe_penguins)
## # A tibble: 6 x 8
##   species island bill_length_mm bill_depth_mm flipper_length_~ body_mass_g sex  
##   &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt; &lt;fct&gt;
## 1 Adelie  Biscoe           37.8          18.3              174        3400 fema~
## 2 Adelie  Biscoe           37.7          18.7              180        3600 male 
## 3 Adelie  Biscoe           35.9          19.2              189        3800 fema~
## 4 Adelie  Biscoe           38.2          18.1              185        3950 male 
## 5 Adelie  Biscoe           38.8          17.2              180        3800 male 
## 6 Adelie  Biscoe           35.3          18.9              187        3800 fema~
## # ... with 1 more variable: year &lt;int&gt;</code></pre>
<p>Here we supplied this key information to <code>filter()</code>:</p>
<pre><code>island == &quot;Biscoe&quot;</code></pre>
<p>What does this expression mean exactly? In effect, it is directing <code>filter()</code> to scan through our data, specifically the <code>island</code> column, and select only those rows where the value is <em>Biscoe</em>. The so-called <em>comparison operator</em> here is the double equal sign, <code>==</code>. This is importantly different than the single equal sign, <code>=</code>, which is used inside a function as part of a <code>key=value</code> or <code>argument=value</code> pair. R provides several helpful comparison operators:</p>
<ul>
<li><code>==</code> for <em>equals</em> in the sense of a perfect match,<br />
</li>
<li><code>!=</code> for <em>not equals</em>,<br />
</li>
<li><code>&gt;</code> for <em>greater than</em>,<br />
</li>
<li><code>&gt;=</code> for <em>greater than or equal to</em>,<br />
</li>
<li><code>&lt;</code> for <em>less than</em>, and<br />
</li>
<li><code>&lt;=</code> for <em>less than or equal to</em>.</li>
</ul>
<p>You can use the first two, <code>==</code> and <code>!=</code>, for comparisons with either character or numeric variables, but the rest apply only to the latter. Let’s run through a few more examples:</p>
<p><em>Filter penguins with body mass greater than 3500 grams</em>.</p>
<pre class="r"><code>larger_penguins &lt;- filter(penguins, body_mass_g &gt; 3500)

head(larger_penguins)
## # A tibble: 6 x 8
##   species island bill_length_mm bill_depth_mm flipper_length_~ body_mass_g sex  
##   &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt; &lt;fct&gt;
## 1 Adelie  Torge~           39.1          18.7              181        3750 male 
## 2 Adelie  Torge~           39.5          17.4              186        3800 fema~
## 3 Adelie  Torge~           39.3          20.6              190        3650 male 
## 4 Adelie  Torge~           38.9          17.8              181        3625 fema~
## 5 Adelie  Torge~           39.2          19.6              195        4675 male 
## 6 Adelie  Torge~           42            20.2              190        4250 &lt;NA&gt; 
## # ... with 1 more variable: year &lt;int&gt;</code></pre>
<p><em>Filter penguins with beaks longer than 39 millimeters</em>.</p>
<pre class="r"><code>longer_beaks &lt;- filter(penguins, bill_length_mm &gt; 39)

head(longer_beaks)
## # A tibble: 6 x 8
##   species island bill_length_mm bill_depth_mm flipper_length_~ body_mass_g sex  
##   &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt; &lt;fct&gt;
## 1 Adelie  Torge~           39.1          18.7              181        3750 male 
## 2 Adelie  Torge~           39.5          17.4              186        3800 fema~
## 3 Adelie  Torge~           40.3          18                195        3250 fema~
## 4 Adelie  Torge~           39.3          20.6              190        3650 male 
## 5 Adelie  Torge~           39.2          19.6              195        4675 male 
## 6 Adelie  Torge~           42            20.2              190        4250 &lt;NA&gt; 
## # ... with 1 more variable: year &lt;int&gt;</code></pre>
<div id="multiple-conditions" class="section level3">
<h3>Multiple conditions</h3>
<p>Often enough, we will want to combine a number of these simple conditions into one complex expression. In R, this is done with Boolean operators:</p>
<ul>
<li><code>&amp;</code> for <em>and</em>,<br />
</li>
<li><code>|</code> for <em>or</em>, and<br />
</li>
<li><code>!</code> for <em>not</em>.</li>
</ul>
<p>To demonstrate the underlying logic of these Boolean operators, consider these shapes and colors. You can think of each of A, B, and C as its own observation or row in a data.frame that includes two variables <code>color</code> and <code>shape</code>.</p>
<p><img src="images/booleans_example.png" width="40%" style="display: block; margin: auto;" /></p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Boolean
</th>
<th style="text-align:left;">
Filter
</th>
<th style="text-align:left;">
Result
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
x
</td>
<td style="text-align:left;">
<code>color == "yellow"</code>
</td>
<td style="text-align:left;">
A, B
</td>
</tr>
<tr>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
<code>shape == "circle"</code>
</td>
<td style="text-align:left;">
B, C
</td>
</tr>
<tr>
<td style="text-align:left;">
x &amp; y
</td>
<td style="text-align:left;">
<code>color == "yellow" &amp; shape == "circle"</code>
</td>
<td style="text-align:left;">
B
</td>
</tr>
<tr>
<td style="text-align:left;">
x | y
</td>
<td style="text-align:left;">
<code>color == "yellow" | shape == "circle"</code>
</td>
<td style="text-align:left;">
A, B, C
</td>
</tr>
<tr>
<td style="text-align:left;">
x &amp; !y
</td>
<td style="text-align:left;">
<code>color == "yellow" &amp; shape != "circle"</code>
</td>
<td style="text-align:left;">
A
</td>
</tr>
<tr>
<td style="text-align:left;">
!x &amp; y
</td>
<td style="text-align:left;">
<code>color != "yellow" &amp; shape == "circle"</code>
</td>
<td style="text-align:left;">
C
</td>
</tr>
<tr>
<td style="text-align:left;">
!(x &amp; y)
</td>
<td style="text-align:left;">
<code>!(color == "yellow" &amp; shape == "circle")</code>
</td>
<td style="text-align:left;">
A, C
</td>
</tr>
<tr>
<td style="text-align:left;">
!(x | y)
</td>
<td style="text-align:left;">
<code>!(color == "yellow" | shape == "circle")</code>
</td>
<td style="text-align:left;">
NULL
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>And here is an example with our penguins data.frame, where we ask R to return those observations in which (a) penguins reside on Biscoe Island and (b) their bills are longer than 39 millimeters.</p>
<pre class="r"><code>biscoe_long_beaks &lt;- filter(penguins, island == &quot;Biscoe&quot; &amp; bill_length_mm &gt; 39)

head(biscoe_long_beaks)
## # A tibble: 6 x 8
##   species island bill_length_mm bill_depth_mm flipper_length_~ body_mass_g sex  
##   &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt; &lt;fct&gt;
## 1 Adelie  Biscoe           40.6          18.6              183        3550 male 
## 2 Adelie  Biscoe           40.5          17.9              187        3200 fema~
## 3 Adelie  Biscoe           40.5          18.9              180        3950 male 
## 4 Adelie  Biscoe           39.6          17.7              186        3500 fema~
## 5 Adelie  Biscoe           40.1          18.9              188        4300 male 
## 6 Adelie  Biscoe           42            19.5              200        4050 male 
## # ... with 1 more variable: year &lt;int&gt;</code></pre>
<p>Note that <code>filter()</code> let’s you separate conditions with a comma, which it interprets as conjunction, represented by the <code>&amp;</code>.</p>
<pre class="r"><code>filter(
  penguins, 
  island == &quot;Biscoe&quot;, 
  species == &quot;Adelie&quot;, 
  body_mass_g &lt; 3500
)
## # A tibble: 13 x 8
##    species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
##  1 Adelie  Biscoe           37.8          18.3               174        3400
##  2 Adelie  Biscoe           40.5          17.9               187        3200
##  3 Adelie  Biscoe           37.9          18.6               172        3150
##  4 Adelie  Biscoe           35            17.9               190        3450
##  5 Adelie  Biscoe           34.5          18.1               187        2900
##  6 Adelie  Biscoe           36.5          16.6               181        2850
##  7 Adelie  Biscoe           35.7          16.9               185        3150
##  8 Adelie  Biscoe           36.4          17.1               184        2850
##  9 Adelie  Biscoe           35.5          16.2               195        3350
## 10 Adelie  Biscoe           37.7          16                 183        3075
## 11 Adelie  Biscoe           37.9          18.6               193        2925
## 12 Adelie  Biscoe           38.1          17                 181        3175
## 13 Adelie  Biscoe           39.7          17.7               193        3200
## # ... with 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
<div id="exercises-1" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li>Try all of the following with <code>filter()</code>:
<ul>
<li>Filter penguins that reside on Torgersen island.</li>
<li>Filter penguins that have a flipper length greater than 185 mm.</li>
<li>Fitler penguins that reside on Torgersen island and have a body mass less than 3500 g.</li>
</ul></li>
<li>Try two more filters with multiple conditions of your choice.</li>
</ol>
</div>
</div>
<div id="Miscellaneous_Dplyr" class="section level2">
<h2>Miscellaneous Dplyr</h2>
<div id="sort-observations" class="section level3">
<h3>Sort observations</h3>
<p>Sometimes it can be useful to sort a table, so you can more easily navigate the information it contains. To do this, <code>dplyr</code> provides the <code>arrange()</code> function. This sorts observations based on a supplied variable or variables. By default, it sorts observations in ascending order (from A to Z for character and 0 to Infinity for numeric). If you provide multiple variables, it will sort the first variable first, then sort the second variable within that variable, and so on. In effect, it breaks ties in the sorting process.</p>
<pre class="r"><code>penguins
## # A tibble: 344 x 8
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
##  1 Adelie  Torgersen           39.1          18.7               181        3750
##  2 Adelie  Torgersen           39.5          17.4               186        3800
##  3 Adelie  Torgersen           40.3          18                 195        3250
##  4 Adelie  Torgersen           NA            NA                  NA          NA
##  5 Adelie  Torgersen           36.7          19.3               193        3450
##  6 Adelie  Torgersen           39.3          20.6               190        3650
##  7 Adelie  Torgersen           38.9          17.8               181        3625
##  8 Adelie  Torgersen           39.2          19.6               195        4675
##  9 Adelie  Torgersen           34.1          18.1               193        3475
## 10 Adelie  Torgersen           42            20.2               190        4250
## # ... with 334 more rows, and 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;
arrange(penguins, species, island)
## # A tibble: 344 x 8
##    species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
##  1 Adelie  Biscoe           37.8          18.3               174        3400
##  2 Adelie  Biscoe           37.7          18.7               180        3600
##  3 Adelie  Biscoe           35.9          19.2               189        3800
##  4 Adelie  Biscoe           38.2          18.1               185        3950
##  5 Adelie  Biscoe           38.8          17.2               180        3800
##  6 Adelie  Biscoe           35.3          18.9               187        3800
##  7 Adelie  Biscoe           40.6          18.6               183        3550
##  8 Adelie  Biscoe           40.5          17.9               187        3200
##  9 Adelie  Biscoe           37.9          18.6               172        3150
## 10 Adelie  Biscoe           40.5          18.9               180        3950
## # ... with 334 more rows, and 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
<p>You can use the <code>desc()</code> function to sort descending.</p>
<pre class="r"><code>arrange(penguins, desc(species))
## # A tibble: 344 x 8
##    species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
##  1 Gentoo  Biscoe           46.1          13.2               211        4500
##  2 Gentoo  Biscoe           50            16.3               230        5700
##  3 Gentoo  Biscoe           48.7          14.1               210        4450
##  4 Gentoo  Biscoe           50            15.2               218        5700
##  5 Gentoo  Biscoe           47.6          14.5               215        5400
##  6 Gentoo  Biscoe           46.5          13.5               210        4550
##  7 Gentoo  Biscoe           45.4          14.6               211        4800
##  8 Gentoo  Biscoe           46.7          15.3               219        5200
##  9 Gentoo  Biscoe           43.3          13.4               209        4400
## 10 Gentoo  Biscoe           46.8          15.4               215        5150
## # ... with 334 more rows, and 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
<div id="pretty-tibbles" class="section level3">
<h3>Pretty tibbles</h3>
<p>You may not have noticed before, but the penguins data comes in the form of a <code>tibble</code> rather than a default <code>data.frame</code>. In the grand scheme of things, the differences between tibbles and data.frames are quite small. However, I want to draw your attention to them briefly to avoid any confusion, especially because <code>dplyr</code> will on occasion implicitly convert data.frames to tibbles. The main difference is that tibbles have nicer (some might say prettier) print methods.</p>
<p>Here’s the penguins data printed as a <code>tibble</code>.</p>
<pre class="r"><code>penguins
## # A tibble: 344 x 8
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
##  1 Adelie  Torgersen           39.1          18.7               181        3750
##  2 Adelie  Torgersen           39.5          17.4               186        3800
##  3 Adelie  Torgersen           40.3          18                 195        3250
##  4 Adelie  Torgersen           NA            NA                  NA          NA
##  5 Adelie  Torgersen           36.7          19.3               193        3450
##  6 Adelie  Torgersen           39.3          20.6               190        3650
##  7 Adelie  Torgersen           38.9          17.8               181        3625
##  8 Adelie  Torgersen           39.2          19.6               195        4675
##  9 Adelie  Torgersen           34.1          18.1               193        3475
## 10 Adelie  Torgersen           42            20.2               190        4250
## # ... with 334 more rows, and 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
<p>And here’s the penguins data printed as a <code>data.frame</code> (brace yourself).</p>
<pre class="r"><code>as.data.frame(penguins)
##       species    island bill_length_mm bill_depth_mm flipper_length_mm
## 1      Adelie Torgersen           39.1          18.7               181
## 2      Adelie Torgersen           39.5          17.4               186
## 3      Adelie Torgersen           40.3          18.0               195
## 4      Adelie Torgersen             NA            NA                NA
## 5      Adelie Torgersen           36.7          19.3               193
## 6      Adelie Torgersen           39.3          20.6               190
## 7      Adelie Torgersen           38.9          17.8               181
## 8      Adelie Torgersen           39.2          19.6               195
## 9      Adelie Torgersen           34.1          18.1               193
## 10     Adelie Torgersen           42.0          20.2               190
## 11     Adelie Torgersen           37.8          17.1               186
## 12     Adelie Torgersen           37.8          17.3               180
## 13     Adelie Torgersen           41.1          17.6               182
## 14     Adelie Torgersen           38.6          21.2               191
## 15     Adelie Torgersen           34.6          21.1               198
## 16     Adelie Torgersen           36.6          17.8               185
## 17     Adelie Torgersen           38.7          19.0               195
## 18     Adelie Torgersen           42.5          20.7               197
## 19     Adelie Torgersen           34.4          18.4               184
## 20     Adelie Torgersen           46.0          21.5               194
## 21     Adelie    Biscoe           37.8          18.3               174
## 22     Adelie    Biscoe           37.7          18.7               180
## 23     Adelie    Biscoe           35.9          19.2               189
## 24     Adelie    Biscoe           38.2          18.1               185
## 25     Adelie    Biscoe           38.8          17.2               180
## 26     Adelie    Biscoe           35.3          18.9               187
## 27     Adelie    Biscoe           40.6          18.6               183
## 28     Adelie    Biscoe           40.5          17.9               187
## 29     Adelie    Biscoe           37.9          18.6               172
## 30     Adelie    Biscoe           40.5          18.9               180
## 31     Adelie     Dream           39.5          16.7               178
## 32     Adelie     Dream           37.2          18.1               178
## 33     Adelie     Dream           39.5          17.8               188
## 34     Adelie     Dream           40.9          18.9               184
## 35     Adelie     Dream           36.4          17.0               195
## 36     Adelie     Dream           39.2          21.1               196
## 37     Adelie     Dream           38.8          20.0               190
## 38     Adelie     Dream           42.2          18.5               180
## 39     Adelie     Dream           37.6          19.3               181
## 40     Adelie     Dream           39.8          19.1               184
## 41     Adelie     Dream           36.5          18.0               182
## 42     Adelie     Dream           40.8          18.4               195
## 43     Adelie     Dream           36.0          18.5               186
## 44     Adelie     Dream           44.1          19.7               196
## 45     Adelie     Dream           37.0          16.9               185
## 46     Adelie     Dream           39.6          18.8               190
## 47     Adelie     Dream           41.1          19.0               182
## 48     Adelie     Dream           37.5          18.9               179
## 49     Adelie     Dream           36.0          17.9               190
## 50     Adelie     Dream           42.3          21.2               191
## 51     Adelie    Biscoe           39.6          17.7               186
## 52     Adelie    Biscoe           40.1          18.9               188
## 53     Adelie    Biscoe           35.0          17.9               190
## 54     Adelie    Biscoe           42.0          19.5               200
## 55     Adelie    Biscoe           34.5          18.1               187
## 56     Adelie    Biscoe           41.4          18.6               191
## 57     Adelie    Biscoe           39.0          17.5               186
## 58     Adelie    Biscoe           40.6          18.8               193
## 59     Adelie    Biscoe           36.5          16.6               181
## 60     Adelie    Biscoe           37.6          19.1               194
## 61     Adelie    Biscoe           35.7          16.9               185
## 62     Adelie    Biscoe           41.3          21.1               195
## 63     Adelie    Biscoe           37.6          17.0               185
## 64     Adelie    Biscoe           41.1          18.2               192
## 65     Adelie    Biscoe           36.4          17.1               184
## 66     Adelie    Biscoe           41.6          18.0               192
## 67     Adelie    Biscoe           35.5          16.2               195
## 68     Adelie    Biscoe           41.1          19.1               188
## 69     Adelie Torgersen           35.9          16.6               190
## 70     Adelie Torgersen           41.8          19.4               198
## 71     Adelie Torgersen           33.5          19.0               190
## 72     Adelie Torgersen           39.7          18.4               190
## 73     Adelie Torgersen           39.6          17.2               196
## 74     Adelie Torgersen           45.8          18.9               197
## 75     Adelie Torgersen           35.5          17.5               190
## 76     Adelie Torgersen           42.8          18.5               195
## 77     Adelie Torgersen           40.9          16.8               191
## 78     Adelie Torgersen           37.2          19.4               184
## 79     Adelie Torgersen           36.2          16.1               187
## 80     Adelie Torgersen           42.1          19.1               195
## 81     Adelie Torgersen           34.6          17.2               189
## 82     Adelie Torgersen           42.9          17.6               196
## 83     Adelie Torgersen           36.7          18.8               187
## 84     Adelie Torgersen           35.1          19.4               193
## 85     Adelie     Dream           37.3          17.8               191
## 86     Adelie     Dream           41.3          20.3               194
## 87     Adelie     Dream           36.3          19.5               190
## 88     Adelie     Dream           36.9          18.6               189
## 89     Adelie     Dream           38.3          19.2               189
## 90     Adelie     Dream           38.9          18.8               190
## 91     Adelie     Dream           35.7          18.0               202
## 92     Adelie     Dream           41.1          18.1               205
## 93     Adelie     Dream           34.0          17.1               185
## 94     Adelie     Dream           39.6          18.1               186
## 95     Adelie     Dream           36.2          17.3               187
## 96     Adelie     Dream           40.8          18.9               208
## 97     Adelie     Dream           38.1          18.6               190
## 98     Adelie     Dream           40.3          18.5               196
## 99     Adelie     Dream           33.1          16.1               178
## 100    Adelie     Dream           43.2          18.5               192
## 101    Adelie    Biscoe           35.0          17.9               192
## 102    Adelie    Biscoe           41.0          20.0               203
## 103    Adelie    Biscoe           37.7          16.0               183
## 104    Adelie    Biscoe           37.8          20.0               190
## 105    Adelie    Biscoe           37.9          18.6               193
## 106    Adelie    Biscoe           39.7          18.9               184
## 107    Adelie    Biscoe           38.6          17.2               199
## 108    Adelie    Biscoe           38.2          20.0               190
## 109    Adelie    Biscoe           38.1          17.0               181
## 110    Adelie    Biscoe           43.2          19.0               197
## 111    Adelie    Biscoe           38.1          16.5               198
## 112    Adelie    Biscoe           45.6          20.3               191
## 113    Adelie    Biscoe           39.7          17.7               193
## 114    Adelie    Biscoe           42.2          19.5               197
## 115    Adelie    Biscoe           39.6          20.7               191
## 116    Adelie    Biscoe           42.7          18.3               196
## 117    Adelie Torgersen           38.6          17.0               188
## 118    Adelie Torgersen           37.3          20.5               199
## 119    Adelie Torgersen           35.7          17.0               189
## 120    Adelie Torgersen           41.1          18.6               189
## 121    Adelie Torgersen           36.2          17.2               187
## 122    Adelie Torgersen           37.7          19.8               198
## 123    Adelie Torgersen           40.2          17.0               176
## 124    Adelie Torgersen           41.4          18.5               202
## 125    Adelie Torgersen           35.2          15.9               186
## 126    Adelie Torgersen           40.6          19.0               199
## 127    Adelie Torgersen           38.8          17.6               191
## 128    Adelie Torgersen           41.5          18.3               195
## 129    Adelie Torgersen           39.0          17.1               191
## 130    Adelie Torgersen           44.1          18.0               210
## 131    Adelie Torgersen           38.5          17.9               190
## 132    Adelie Torgersen           43.1          19.2               197
## 133    Adelie     Dream           36.8          18.5               193
## 134    Adelie     Dream           37.5          18.5               199
## 135    Adelie     Dream           38.1          17.6               187
## 136    Adelie     Dream           41.1          17.5               190
## 137    Adelie     Dream           35.6          17.5               191
## 138    Adelie     Dream           40.2          20.1               200
## 139    Adelie     Dream           37.0          16.5               185
## 140    Adelie     Dream           39.7          17.9               193
## 141    Adelie     Dream           40.2          17.1               193
## 142    Adelie     Dream           40.6          17.2               187
## 143    Adelie     Dream           32.1          15.5               188
## 144    Adelie     Dream           40.7          17.0               190
## 145    Adelie     Dream           37.3          16.8               192
## 146    Adelie     Dream           39.0          18.7               185
## 147    Adelie     Dream           39.2          18.6               190
## 148    Adelie     Dream           36.6          18.4               184
## 149    Adelie     Dream           36.0          17.8               195
## 150    Adelie     Dream           37.8          18.1               193
## 151    Adelie     Dream           36.0          17.1               187
## 152    Adelie     Dream           41.5          18.5               201
## 153    Gentoo    Biscoe           46.1          13.2               211
## 154    Gentoo    Biscoe           50.0          16.3               230
## 155    Gentoo    Biscoe           48.7          14.1               210
## 156    Gentoo    Biscoe           50.0          15.2               218
## 157    Gentoo    Biscoe           47.6          14.5               215
## 158    Gentoo    Biscoe           46.5          13.5               210
## 159    Gentoo    Biscoe           45.4          14.6               211
## 160    Gentoo    Biscoe           46.7          15.3               219
## 161    Gentoo    Biscoe           43.3          13.4               209
## 162    Gentoo    Biscoe           46.8          15.4               215
## 163    Gentoo    Biscoe           40.9          13.7               214
## 164    Gentoo    Biscoe           49.0          16.1               216
## 165    Gentoo    Biscoe           45.5          13.7               214
## 166    Gentoo    Biscoe           48.4          14.6               213
## 167    Gentoo    Biscoe           45.8          14.6               210
## 168    Gentoo    Biscoe           49.3          15.7               217
## 169    Gentoo    Biscoe           42.0          13.5               210
## 170    Gentoo    Biscoe           49.2          15.2               221
## 171    Gentoo    Biscoe           46.2          14.5               209
## 172    Gentoo    Biscoe           48.7          15.1               222
## 173    Gentoo    Biscoe           50.2          14.3               218
## 174    Gentoo    Biscoe           45.1          14.5               215
## 175    Gentoo    Biscoe           46.5          14.5               213
## 176    Gentoo    Biscoe           46.3          15.8               215
## 177    Gentoo    Biscoe           42.9          13.1               215
## 178    Gentoo    Biscoe           46.1          15.1               215
## 179    Gentoo    Biscoe           44.5          14.3               216
## 180    Gentoo    Biscoe           47.8          15.0               215
## 181    Gentoo    Biscoe           48.2          14.3               210
## 182    Gentoo    Biscoe           50.0          15.3               220
## 183    Gentoo    Biscoe           47.3          15.3               222
## 184    Gentoo    Biscoe           42.8          14.2               209
## 185    Gentoo    Biscoe           45.1          14.5               207
## 186    Gentoo    Biscoe           59.6          17.0               230
## 187    Gentoo    Biscoe           49.1          14.8               220
## 188    Gentoo    Biscoe           48.4          16.3               220
## 189    Gentoo    Biscoe           42.6          13.7               213
## 190    Gentoo    Biscoe           44.4          17.3               219
## 191    Gentoo    Biscoe           44.0          13.6               208
## 192    Gentoo    Biscoe           48.7          15.7               208
## 193    Gentoo    Biscoe           42.7          13.7               208
## 194    Gentoo    Biscoe           49.6          16.0               225
## 195    Gentoo    Biscoe           45.3          13.7               210
## 196    Gentoo    Biscoe           49.6          15.0               216
## 197    Gentoo    Biscoe           50.5          15.9               222
## 198    Gentoo    Biscoe           43.6          13.9               217
## 199    Gentoo    Biscoe           45.5          13.9               210
## 200    Gentoo    Biscoe           50.5          15.9               225
## 201    Gentoo    Biscoe           44.9          13.3               213
## 202    Gentoo    Biscoe           45.2          15.8               215
## 203    Gentoo    Biscoe           46.6          14.2               210
## 204    Gentoo    Biscoe           48.5          14.1               220
## 205    Gentoo    Biscoe           45.1          14.4               210
## 206    Gentoo    Biscoe           50.1          15.0               225
## 207    Gentoo    Biscoe           46.5          14.4               217
## 208    Gentoo    Biscoe           45.0          15.4               220
## 209    Gentoo    Biscoe           43.8          13.9               208
## 210    Gentoo    Biscoe           45.5          15.0               220
## 211    Gentoo    Biscoe           43.2          14.5               208
## 212    Gentoo    Biscoe           50.4          15.3               224
## 213    Gentoo    Biscoe           45.3          13.8               208
## 214    Gentoo    Biscoe           46.2          14.9               221
## 215    Gentoo    Biscoe           45.7          13.9               214
## 216    Gentoo    Biscoe           54.3          15.7               231
## 217    Gentoo    Biscoe           45.8          14.2               219
## 218    Gentoo    Biscoe           49.8          16.8               230
## 219    Gentoo    Biscoe           46.2          14.4               214
## 220    Gentoo    Biscoe           49.5          16.2               229
## 221    Gentoo    Biscoe           43.5          14.2               220
## 222    Gentoo    Biscoe           50.7          15.0               223
## 223    Gentoo    Biscoe           47.7          15.0               216
## 224    Gentoo    Biscoe           46.4          15.6               221
## 225    Gentoo    Biscoe           48.2          15.6               221
## 226    Gentoo    Biscoe           46.5          14.8               217
## 227    Gentoo    Biscoe           46.4          15.0               216
## 228    Gentoo    Biscoe           48.6          16.0               230
## 229    Gentoo    Biscoe           47.5          14.2               209
## 230    Gentoo    Biscoe           51.1          16.3               220
## 231    Gentoo    Biscoe           45.2          13.8               215
## 232    Gentoo    Biscoe           45.2          16.4               223
## 233    Gentoo    Biscoe           49.1          14.5               212
## 234    Gentoo    Biscoe           52.5          15.6               221
## 235    Gentoo    Biscoe           47.4          14.6               212
## 236    Gentoo    Biscoe           50.0          15.9               224
## 237    Gentoo    Biscoe           44.9          13.8               212
## 238    Gentoo    Biscoe           50.8          17.3               228
## 239    Gentoo    Biscoe           43.4          14.4               218
## 240    Gentoo    Biscoe           51.3          14.2               218
## 241    Gentoo    Biscoe           47.5          14.0               212
## 242    Gentoo    Biscoe           52.1          17.0               230
## 243    Gentoo    Biscoe           47.5          15.0               218
## 244    Gentoo    Biscoe           52.2          17.1               228
## 245    Gentoo    Biscoe           45.5          14.5               212
## 246    Gentoo    Biscoe           49.5          16.1               224
## 247    Gentoo    Biscoe           44.5          14.7               214
## 248    Gentoo    Biscoe           50.8          15.7               226
## 249    Gentoo    Biscoe           49.4          15.8               216
## 250    Gentoo    Biscoe           46.9          14.6               222
## 251    Gentoo    Biscoe           48.4          14.4               203
## 252    Gentoo    Biscoe           51.1          16.5               225
## 253    Gentoo    Biscoe           48.5          15.0               219
## 254    Gentoo    Biscoe           55.9          17.0               228
## 255    Gentoo    Biscoe           47.2          15.5               215
## 256    Gentoo    Biscoe           49.1          15.0               228
## 257    Gentoo    Biscoe           47.3          13.8               216
## 258    Gentoo    Biscoe           46.8          16.1               215
## 259    Gentoo    Biscoe           41.7          14.7               210
## 260    Gentoo    Biscoe           53.4          15.8               219
## 261    Gentoo    Biscoe           43.3          14.0               208
## 262    Gentoo    Biscoe           48.1          15.1               209
## 263    Gentoo    Biscoe           50.5          15.2               216
## 264    Gentoo    Biscoe           49.8          15.9               229
## 265    Gentoo    Biscoe           43.5          15.2               213
## 266    Gentoo    Biscoe           51.5          16.3               230
## 267    Gentoo    Biscoe           46.2          14.1               217
## 268    Gentoo    Biscoe           55.1          16.0               230
## 269    Gentoo    Biscoe           44.5          15.7               217
## 270    Gentoo    Biscoe           48.8          16.2               222
## 271    Gentoo    Biscoe           47.2          13.7               214
## 272    Gentoo    Biscoe             NA            NA                NA
## 273    Gentoo    Biscoe           46.8          14.3               215
## 274    Gentoo    Biscoe           50.4          15.7               222
## 275    Gentoo    Biscoe           45.2          14.8               212
## 276    Gentoo    Biscoe           49.9          16.1               213
## 277 Chinstrap     Dream           46.5          17.9               192
## 278 Chinstrap     Dream           50.0          19.5               196
## 279 Chinstrap     Dream           51.3          19.2               193
## 280 Chinstrap     Dream           45.4          18.7               188
## 281 Chinstrap     Dream           52.7          19.8               197
## 282 Chinstrap     Dream           45.2          17.8               198
## 283 Chinstrap     Dream           46.1          18.2               178
## 284 Chinstrap     Dream           51.3          18.2               197
## 285 Chinstrap     Dream           46.0          18.9               195
## 286 Chinstrap     Dream           51.3          19.9               198
## 287 Chinstrap     Dream           46.6          17.8               193
## 288 Chinstrap     Dream           51.7          20.3               194
## 289 Chinstrap     Dream           47.0          17.3               185
## 290 Chinstrap     Dream           52.0          18.1               201
## 291 Chinstrap     Dream           45.9          17.1               190
## 292 Chinstrap     Dream           50.5          19.6               201
## 293 Chinstrap     Dream           50.3          20.0               197
## 294 Chinstrap     Dream           58.0          17.8               181
## 295 Chinstrap     Dream           46.4          18.6               190
## 296 Chinstrap     Dream           49.2          18.2               195
## 297 Chinstrap     Dream           42.4          17.3               181
## 298 Chinstrap     Dream           48.5          17.5               191
## 299 Chinstrap     Dream           43.2          16.6               187
## 300 Chinstrap     Dream           50.6          19.4               193
## 301 Chinstrap     Dream           46.7          17.9               195
## 302 Chinstrap     Dream           52.0          19.0               197
## 303 Chinstrap     Dream           50.5          18.4               200
## 304 Chinstrap     Dream           49.5          19.0               200
## 305 Chinstrap     Dream           46.4          17.8               191
## 306 Chinstrap     Dream           52.8          20.0               205
## 307 Chinstrap     Dream           40.9          16.6               187
## 308 Chinstrap     Dream           54.2          20.8               201
## 309 Chinstrap     Dream           42.5          16.7               187
## 310 Chinstrap     Dream           51.0          18.8               203
## 311 Chinstrap     Dream           49.7          18.6               195
## 312 Chinstrap     Dream           47.5          16.8               199
## 313 Chinstrap     Dream           47.6          18.3               195
## 314 Chinstrap     Dream           52.0          20.7               210
## 315 Chinstrap     Dream           46.9          16.6               192
## 316 Chinstrap     Dream           53.5          19.9               205
## 317 Chinstrap     Dream           49.0          19.5               210
## 318 Chinstrap     Dream           46.2          17.5               187
## 319 Chinstrap     Dream           50.9          19.1               196
## 320 Chinstrap     Dream           45.5          17.0               196
## 321 Chinstrap     Dream           50.9          17.9               196
## 322 Chinstrap     Dream           50.8          18.5               201
## 323 Chinstrap     Dream           50.1          17.9               190
## 324 Chinstrap     Dream           49.0          19.6               212
## 325 Chinstrap     Dream           51.5          18.7               187
## 326 Chinstrap     Dream           49.8          17.3               198
## 327 Chinstrap     Dream           48.1          16.4               199
## 328 Chinstrap     Dream           51.4          19.0               201
## 329 Chinstrap     Dream           45.7          17.3               193
## 330 Chinstrap     Dream           50.7          19.7               203
## 331 Chinstrap     Dream           42.5          17.3               187
## 332 Chinstrap     Dream           52.2          18.8               197
## 333 Chinstrap     Dream           45.2          16.6               191
## 334 Chinstrap     Dream           49.3          19.9               203
## 335 Chinstrap     Dream           50.2          18.8               202
## 336 Chinstrap     Dream           45.6          19.4               194
## 337 Chinstrap     Dream           51.9          19.5               206
## 338 Chinstrap     Dream           46.8          16.5               189
## 339 Chinstrap     Dream           45.7          17.0               195
## 340 Chinstrap     Dream           55.8          19.8               207
## 341 Chinstrap     Dream           43.5          18.1               202
## 342 Chinstrap     Dream           49.6          18.2               193
## 343 Chinstrap     Dream           50.8          19.0               210
## 344 Chinstrap     Dream           50.2          18.7               198
##     body_mass_g    sex year
## 1          3750   male 2007
## 2          3800 female 2007
## 3          3250 female 2007
## 4            NA   &lt;NA&gt; 2007
## 5          3450 female 2007
## 6          3650   male 2007
## 7          3625 female 2007
## 8          4675   male 2007
## 9          3475   &lt;NA&gt; 2007
## 10         4250   &lt;NA&gt; 2007
## 11         3300   &lt;NA&gt; 2007
## 12         3700   &lt;NA&gt; 2007
## 13         3200 female 2007
## 14         3800   male 2007
## 15         4400   male 2007
## 16         3700 female 2007
## 17         3450 female 2007
## 18         4500   male 2007
## 19         3325 female 2007
## 20         4200   male 2007
## 21         3400 female 2007
## 22         3600   male 2007
## 23         3800 female 2007
## 24         3950   male 2007
## 25         3800   male 2007
## 26         3800 female 2007
## 27         3550   male 2007
## 28         3200 female 2007
## 29         3150 female 2007
## 30         3950   male 2007
## 31         3250 female 2007
## 32         3900   male 2007
## 33         3300 female 2007
## 34         3900   male 2007
## 35         3325 female 2007
## 36         4150   male 2007
## 37         3950   male 2007
## 38         3550 female 2007
## 39         3300 female 2007
## 40         4650   male 2007
## 41         3150 female 2007
## 42         3900   male 2007
## 43         3100 female 2007
## 44         4400   male 2007
## 45         3000 female 2007
## 46         4600   male 2007
## 47         3425   male 2007
## 48         2975   &lt;NA&gt; 2007
## 49         3450 female 2007
## 50         4150   male 2007
## 51         3500 female 2008
## 52         4300   male 2008
## 53         3450 female 2008
## 54         4050   male 2008
## 55         2900 female 2008
## 56         3700   male 2008
## 57         3550 female 2008
## 58         3800   male 2008
## 59         2850 female 2008
## 60         3750   male 2008
## 61         3150 female 2008
## 62         4400   male 2008
## 63         3600 female 2008
## 64         4050   male 2008
## 65         2850 female 2008
## 66         3950   male 2008
## 67         3350 female 2008
## 68         4100   male 2008
## 69         3050 female 2008
## 70         4450   male 2008
## 71         3600 female 2008
## 72         3900   male 2008
## 73         3550 female 2008
## 74         4150   male 2008
## 75         3700 female 2008
## 76         4250   male 2008
## 77         3700 female 2008
## 78         3900   male 2008
## 79         3550 female 2008
## 80         4000   male 2008
## 81         3200 female 2008
## 82         4700   male 2008
## 83         3800 female 2008
## 84         4200   male 2008
## 85         3350 female 2008
## 86         3550   male 2008
## 87         3800   male 2008
## 88         3500 female 2008
## 89         3950   male 2008
## 90         3600 female 2008
## 91         3550 female 2008
## 92         4300   male 2008
## 93         3400 female 2008
## 94         4450   male 2008
## 95         3300 female 2008
## 96         4300   male 2008
## 97         3700 female 2008
## 98         4350   male 2008
## 99         2900 female 2008
## 100        4100   male 2008
## 101        3725 female 2009
## 102        4725   male 2009
## 103        3075 female 2009
## 104        4250   male 2009
## 105        2925 female 2009
## 106        3550   male 2009
## 107        3750 female 2009
## 108        3900   male 2009
## 109        3175 female 2009
## 110        4775   male 2009
## 111        3825 female 2009
## 112        4600   male 2009
## 113        3200 female 2009
## 114        4275   male 2009
## 115        3900 female 2009
## 116        4075   male 2009
## 117        2900 female 2009
## 118        3775   male 2009
## 119        3350 female 2009
## 120        3325   male 2009
## 121        3150 female 2009
## 122        3500   male 2009
## 123        3450 female 2009
## 124        3875   male 2009
## 125        3050 female 2009
## 126        4000   male 2009
## 127        3275 female 2009
## 128        4300   male 2009
## 129        3050 female 2009
## 130        4000   male 2009
## 131        3325 female 2009
## 132        3500   male 2009
## 133        3500 female 2009
## 134        4475   male 2009
## 135        3425 female 2009
## 136        3900   male 2009
## 137        3175 female 2009
## 138        3975   male 2009
## 139        3400 female 2009
## 140        4250   male 2009
## 141        3400 female 2009
## 142        3475   male 2009
## 143        3050 female 2009
## 144        3725   male 2009
## 145        3000 female 2009
## 146        3650   male 2009
## 147        4250   male 2009
## 148        3475 female 2009
## 149        3450 female 2009
## 150        3750   male 2009
## 151        3700 female 2009
## 152        4000   male 2009
## 153        4500 female 2007
## 154        5700   male 2007
## 155        4450 female 2007
## 156        5700   male 2007
## 157        5400   male 2007
## 158        4550 female 2007
## 159        4800 female 2007
## 160        5200   male 2007
## 161        4400 female 2007
## 162        5150   male 2007
## 163        4650 female 2007
## 164        5550   male 2007
## 165        4650 female 2007
## 166        5850   male 2007
## 167        4200 female 2007
## 168        5850   male 2007
## 169        4150 female 2007
## 170        6300   male 2007
## 171        4800 female 2007
## 172        5350   male 2007
## 173        5700   male 2007
## 174        5000 female 2007
## 175        4400 female 2007
## 176        5050   male 2007
## 177        5000 female 2007
## 178        5100   male 2007
## 179        4100   &lt;NA&gt; 2007
## 180        5650   male 2007
## 181        4600 female 2007
## 182        5550   male 2007
## 183        5250   male 2007
## 184        4700 female 2007
## 185        5050 female 2007
## 186        6050   male 2007
## 187        5150 female 2008
## 188        5400   male 2008
## 189        4950 female 2008
## 190        5250   male 2008
## 191        4350 female 2008
## 192        5350   male 2008
## 193        3950 female 2008
## 194        5700   male 2008
## 195        4300 female 2008
## 196        4750   male 2008
## 197        5550   male 2008
## 198        4900 female 2008
## 199        4200 female 2008
## 200        5400   male 2008
## 201        5100 female 2008
## 202        5300   male 2008
## 203        4850 female 2008
## 204        5300   male 2008
## 205        4400 female 2008
## 206        5000   male 2008
## 207        4900 female 2008
## 208        5050   male 2008
## 209        4300 female 2008
## 210        5000   male 2008
## 211        4450 female 2008
## 212        5550   male 2008
## 213        4200 female 2008
## 214        5300   male 2008
## 215        4400 female 2008
## 216        5650   male 2008
## 217        4700 female 2008
## 218        5700   male 2008
## 219        4650   &lt;NA&gt; 2008
## 220        5800   male 2008
## 221        4700 female 2008
## 222        5550   male 2008
## 223        4750 female 2008
## 224        5000   male 2008
## 225        5100   male 2008
## 226        5200 female 2008
## 227        4700 female 2008
## 228        5800   male 2008
## 229        4600 female 2008
## 230        6000   male 2008
## 231        4750 female 2008
## 232        5950   male 2008
## 233        4625 female 2009
## 234        5450   male 2009
## 235        4725 female 2009
## 236        5350   male 2009
## 237        4750 female 2009
## 238        5600   male 2009
## 239        4600 female 2009
## 240        5300   male 2009
## 241        4875 female 2009
## 242        5550   male 2009
## 243        4950 female 2009
## 244        5400   male 2009
## 245        4750 female 2009
## 246        5650   male 2009
## 247        4850 female 2009
## 248        5200   male 2009
## 249        4925   male 2009
## 250        4875 female 2009
## 251        4625 female 2009
## 252        5250   male 2009
## 253        4850 female 2009
## 254        5600   male 2009
## 255        4975 female 2009
## 256        5500   male 2009
## 257        4725   &lt;NA&gt; 2009
## 258        5500   male 2009
## 259        4700 female 2009
## 260        5500   male 2009
## 261        4575 female 2009
## 262        5500   male 2009
## 263        5000 female 2009
## 264        5950   male 2009
## 265        4650 female 2009
## 266        5500   male 2009
## 267        4375 female 2009
## 268        5850   male 2009
## 269        4875   &lt;NA&gt; 2009
## 270        6000   male 2009
## 271        4925 female 2009
## 272          NA   &lt;NA&gt; 2009
## 273        4850 female 2009
## 274        5750   male 2009
## 275        5200 female 2009
## 276        5400   male 2009
## 277        3500 female 2007
## 278        3900   male 2007
## 279        3650   male 2007
## 280        3525 female 2007
## 281        3725   male 2007
## 282        3950 female 2007
## 283        3250 female 2007
## 284        3750   male 2007
## 285        4150 female 2007
## 286        3700   male 2007
## 287        3800 female 2007
## 288        3775   male 2007
## 289        3700 female 2007
## 290        4050   male 2007
## 291        3575 female 2007
## 292        4050   male 2007
## 293        3300   male 2007
## 294        3700 female 2007
## 295        3450 female 2007
## 296        4400   male 2007
## 297        3600 female 2007
## 298        3400   male 2007
## 299        2900 female 2007
## 300        3800   male 2007
## 301        3300 female 2007
## 302        4150   male 2007
## 303        3400 female 2008
## 304        3800   male 2008
## 305        3700 female 2008
## 306        4550   male 2008
## 307        3200 female 2008
## 308        4300   male 2008
## 309        3350 female 2008
## 310        4100   male 2008
## 311        3600   male 2008
## 312        3900 female 2008
## 313        3850 female 2008
## 314        4800   male 2008
## 315        2700 female 2008
## 316        4500   male 2008
## 317        3950   male 2008
## 318        3650 female 2008
## 319        3550   male 2008
## 320        3500 female 2008
## 321        3675 female 2009
## 322        4450   male 2009
## 323        3400 female 2009
## 324        4300   male 2009
## 325        3250   male 2009
## 326        3675 female 2009
## 327        3325 female 2009
## 328        3950   male 2009
## 329        3600 female 2009
## 330        4050   male 2009
## 331        3350 female 2009
## 332        3450   male 2009
## 333        3250 female 2009
## 334        4050   male 2009
## 335        3800   male 2009
## 336        3525 female 2009
## 337        3950   male 2009
## 338        3650 female 2009
## 339        3650 female 2009
## 340        4000   male 2009
## 341        3400 female 2009
## 342        3775   male 2009
## 343        4100   male 2009
## 344        3775 female 2009</code></pre>
<p>There are a few big differences here:</p>
<ol style="list-style-type: decimal">
<li>By default <code>tibble()</code> will only print the first ten rows of data. This saves you from having to use the <code>head()</code> function. Notice, too, that it tells you how many rows were not printed at the bottom. With <code>data.frame()</code>, the default print will print the maximum number of rows defined in your default options.</li>
<li><code>tibble()</code> will only print columns that fit on your screen. It will then tell you how many columns were not printed.</li>
<li><code>tibble()</code> provides information about the dimensions of your table: the number of rows and columns.</li>
<li><code>tibble()</code> provides information about the type of data each variable is: factor (<code>fct</code>), character, numeric (<code>dbl</code> for “double” or <code>int</code> for “integer”).</li>
</ol>
<p>Whether you choose to use <code>tibbles</code> or <code>data.frames</code> is largely a stylistic choice that is entirely up to you and your own preferences. You will, however, encounter them quite often in R, so it’s worth being familiar with them. You can always convert between them if you want with <code>as_tibble()</code> and <code>as.data.frame()</code>.</p>
<pre class="r"><code># turn a tibble into a data.frame
penguins_df &lt;- as.data.frame(penguins)

# turn a data.frame into a tibble
penguins_tbl &lt;- as_tibble(penguins_df)</code></pre>
<p>You can also create a tibble in the same way that you create a data.frame.</p>
<pre class="r"><code>projectiles &lt;- tibble(
  type = c(&quot;Elko&quot;, &quot;Rosegate&quot;, &quot;DSN&quot;, &quot;Elko&quot;, &quot;Clovis&quot;),
  length = c(2.03, 1.4, 1.9, 2.1, 3.3),
  width = c(0.8, 0.4, 0.3, 0.7, 0.95),
  height = c(3.23, 2.4, 1.29, 2.7, 4.15)
)</code></pre>
</div>
<div id="exercises-2" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li>Sort the penguins data by island with <code>arrange()</code>. Then reverse the sorting of islands with <code>desc()</code>.</li>
<li>Do the same for year. Use <code>arrange()</code> then add <code>desc()</code>.</li>
</ol>
</div>
</div>
<div id="Boxplots" class="section level2">
<h2>Boxplots</h2>
<p>In this section we’ll learn how to make boxplots, which provide a simple (some might say crude) but nevertheless effective way of representing the distribution of a variable. For one or two variables, it’s often better to use a density plot, but if you’re comparing the distributions of lots of variables or lots of samples of the same variable across multiple categories, a density plot can get crowded quick. That’s when it’s useful to turn to boxplots, so we’ll focus on that here.</p>
<div class="figure" style="text-align: center">
<img src="05-Linear_Models-2_files/figure-html/unnamed-chunk-22-1.png" alt="Schematic for interpreting boxplots. Adapted from Claus Wilke's figure [here](https://wilkelab.org/SDS375/slides/visualizing-distributions-2.html#10)." width="576" />
<p class="caption">
Schematic for interpreting boxplots. Adapted from Claus Wilke’s figure <a href="https://wilkelab.org/SDS375/slides/visualizing-distributions-2.html#10">here</a>.
</p>
</div>
<p>As you can see, the boxplot shows the distribution of a variable using a five-number summary, which includes all of the following:</p>
<ul>
<li>Minimum: the lowest or smallest data point (excluding outliers).</li>
<li>Maximum: the highest or largest data point (excluding outliers).</li>
<li>Median: the middle value that separates the data in half (also called the second quartile.</li>
<li>First quartile: the middle value of the lower half of the data, meaning 75% of the data fall above it and %25 below it (also called the lower quartile)</li>
<li>Third quartile: the middle value of the upper half of the data, meaning 25% of the data fall above it and 75% below it (also called the upper quartile)</li>
</ul>
<p>By extension, this includes the</p>
<ul>
<li>Interquartile Range: the distance between the first and third quartile, which includes 50% of the data.</li>
</ul>
<p>Notice that the minimum and maximum values are connected the first and third quartiles by lines commonly referred to as “whiskers.”</p>
<div id="making-a-boxplot-with-ggplot" class="section level3">
<h3>Making a boxplot with ggplot</h3>
<p>To make a boxplot with ggplot, we need our table of data (as always), which we pass to the <code>ggplot()</code> function. We then specify the boxplot geometry with <code>geom_boxplot()</code>.</p>
<pre class="r"><code>ggplot(penguins, aes(y = bill_length_mm)) +
  geom_boxplot(fill = &quot;skyblue&quot;)</code></pre>
<p><img src="05-Linear_Models-2_files/figure-html/unnamed-chunk-24-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Notice that we specified that the distribution of bill length should range over the y-axis. This makes the boxplots display vertically in the graph. We can change them to horizontal by having the variables distribution range over the x-axis.</p>
<pre class="r"><code>ggplot(penguins, aes(x = bill_length_mm)) +
  geom_boxplot(fill = &quot;skyblue&quot;)</code></pre>
<p><img src="05-Linear_Models-2_files/figure-html/unnamed-chunk-25-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>A horizontal box plot is especially useful for comparing multiple samples across categories of another variable. To add those, we simply map the categorical variable (called a factor in R) to the y-axis like so.</p>
<pre class="r"><code>ggplot(penguins, aes(x = bill_length_mm, y = species)) +
  geom_boxplot(fill = &quot;skyblue&quot;)</code></pre>
<p><img src="05-Linear_Models-2_files/figure-html/unnamed-chunk-26-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>As always, we can update the axis labels and add a title. In this case, we’ll drop the y-axis label because it should be obvious from the values there that these are different species. While we’re at it, let’s also change the theme settings to minimal and remove the horizontal gridlines.</p>
<pre class="r"><code>ggplot(penguins, aes(x = bill_length_mm, y = species)) +
  geom_boxplot(fill = &quot;skyblue&quot;) +
  labs(
    x = &quot;Bill Length (mm)&quot;,
    y = NULL,
    title = &quot;Palmer Penguins&quot;
  ) +
  theme_minimal() +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor.y = element_blank(),
  )</code></pre>
<p><img src="05-Linear_Models-2_files/figure-html/unnamed-chunk-27-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="exercises-3" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li>Make a boxplot showing the distribution of penguin body mass by island. Do all of the following:
<ul>
<li>Position the boxes horizontally.</li>
<li>Change the fill color to a color of your choice.</li>
<li>Update the labels and add a title.</li>
<li>Change the theme to one of your choice.</li>
<li>Remove the horizontal grid lines.</li>
</ul></li>
</ol>
</div>
</div>
<div id="ANOVA" class="section level2">
<h2>ANOVA</h2>
<p>A really powerful way to evaluate a linear model is to submit it to an ANOVA test. If you recall, an ANOVA for comparing the distribution of a variable across groups compares the ratio of the between-group variance to the within-group variance. This is known as an F-statistic. It gives us a sense of how much variance is coming from the groups themselves versus how much is coming from the individual observations within each group. If more of the variance is coming from the groups and not the individual observations, that indicates that at least one of the groups is not like the others. Crucially, the F-statistic can be compared to an F-distribution to determine whether the statistic is likely under the null hypothesis that the groups are not different.</p>
<p>An ANOVA applied to a statistical model works in much the same way. The only catch is that we are not comparing the variance between groups but between models. Rather, we are comparing the total variance captured by the model to the remaining or residual variance. The total variance in this case is defined by the mean or intercept-only model (sometimes referred to as the null model). So, an ANOVA applied to a bivariate or multiple linear regression model can be thought of as answering the following</p>
<p><strong>Question:</strong> does the model capture a sufficient amount of the variance to make its increased complexity worthwhile?</p>
<p>Again, taking the ratio of the variance explained by the model to the residual variance provides an estimate of the F-statistic, which can be compared to the F-distribution to determine how likely it is under the null hypothesis that the more complex model does not explain more variance than the null model.</p>
<p>To conduct this test in R, it’s quite simple. Simply supply a fitted linear model to the <code>aov()</code> function. First, however, make sure to visualize your data!</p>
<pre class="r"><code>ggplot(penguins, aes(body_mass_g, bill_length_mm)) +
  geom_point(size = 2) +
  theme_minimal() +
  labs(
    x = &quot;Body Mass (g)&quot;,
    y = &quot;Bill Length (mm)&quot;
  )</code></pre>
<p><img src="05-Linear_Models-2_files/figure-html/unnamed-chunk-28-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Does it look like there is a relationship? Let’s test this to find out! Then we’ll conduct an ANOVA. Note that summarizing the ANOVA with <code>summary()</code> prints an ANOVA table.</p>
<pre class="r"><code>penguins_model &lt;- lm(bill_length_mm ~ body_mass_g, data = penguins)

summary(aov(penguins_model))
##              Df Sum Sq Mean Sq F value Pr(&gt;F)    
## body_mass_g   1   3600    3600     186 &lt;2e-16 ***
## Residuals   340   6564      19                   
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 2 observations deleted due to missingness</code></pre>
<p>As always, the Mean Squared Error (<code>Mean Sq</code>) is calculated by dividing the Sum of Squares (<code>Sum Sq</code>) by the degrees of freedom (<code>Df</code>), the latter being a function of the number of independent variables or predictors in the model and the number of observations. The F-statistic is then calculated by dividing the Model Sum of Squares (in this case <code>body_mass_g</code>) by the Residual Sum of Squares (<code>Residuals</code>), in this case <span class="math inline">\(F = 3600/19 = 186.4\)</span>. By comparing this statistic to an F-distribution with those degrees of freedom, we get a very small p-value, much less than the standard critical value of 0.05. We can thus reject the null hypothesis and conclude that the variance explained by this model is indeed worth the price of increased complexity.</p>
<div id="model-summary" class="section level3">
<h3>Model Summary</h3>
<p>Often it is unnecessary to explicitly conduct an ANOVA test in R as the <code>summary()</code> function applied to a model will typically perform that test and print the results by default.</p>
<pre class="r"><code>summary(penguins_model)
## 
## Call:
## lm(formula = bill_length_mm ~ body_mass_g, data = penguins)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -10.125  -3.043  -0.809   2.071  16.111 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 2.69e+01   1.27e+00    21.2   &lt;2e-16 ***
## body_mass_g 4.05e-03   2.97e-04    13.6   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 4.39 on 340 degrees of freedom
##   (2 observations deleted due to missingness)
## Multiple R-squared:  0.354,  Adjusted R-squared:  0.352 
## F-statistic:  186 on 1 and 340 DF,  p-value: &lt;2e-16</code></pre>
<p>It’s the last line of this particular summary, where it reports the F-statistic, the degrees of freedom, and the p-value associated with the comparison to the F-distribution.</p>
<p>Note that the <code>summary()</code> function also shows the R-squared value, which is the ratio of the Model Sum of Squares to the Total Sum of Squares (defined by the null model). This provides a measure of the proportion of the total variance explained by the model. You will also see here the so-called <em>Adjusted R-Squared</em>. This is simply the <em>R-Squared</em> statistic weighted by the complexity of the model, which is important because <em>R-Squared</em> tends to increase with increases in model complexity, meaning each time you add an independent variable to a model it’s going to capture some amount of the total variance in the dependent variable.</p>
</div>
<div id="exercises-4" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li>Build a model of penguin flipper length by body mass.
<ul>
<li>Make sure to visualize your data first! Make a scatter plot!</li>
</ul></li>
<li>Conduct an ANOVA on this model with <code>aov()</code>.
<ul>
<li>Be sure to state your null and alternative hypotheses.</li>
<li>Specify your critical value, too.</li>
</ul></li>
<li>Summarize the ANOVA with <code>summary()</code>.
<ul>
<li>Does the model provide a significant improvement over the null model?</li>
</ul></li>
<li>Run <code>summary()</code> on your model.
<ul>
<li>What is the R-Squared value?</li>
<li>Does body mass explain much of the variance in flipper length?</li>
<li>How would you interpret this result? What is the relationship between flipper length and body mass?</li>
</ul></li>
</ol>
</div>
</div>
<div id="Homework" class="section level2">
<h2>Homework</h2>
<ol style="list-style-type: decimal">
<li>Load the following datasets from the <code>archdata</code> package using <code>data()</code>.
<ul>
<li><code>DartPoints</code></li>
<li><code>OxfordPots</code></li>
</ul></li>
<li>Let’s practice working with <code>dplyr</code>.
<ul>
<li>From each dataset, use <code>pull()</code> to remove one variable and assign it to an object with an informative name.</li>
<li>Use <code>filter()</code> on the <code>DartPoints</code> table to return a table with only <code>Ensor</code> points. Hint: use <code>Name == ...</code>.</li>
<li>Use <code>filter()</code> on the <code>DartPoints</code> table to return a table with only <code>Ensor</code> points that are less than 43 millimeters in <code>Length</code>. Hint: separate the conditions with commas.</li>
<li>Use <code>select()</code> on the <code>DartPoints</code> table to return a table with only the <code>Name</code>, <code>Length</code>, and <code>Width</code> variables.</li>
<li>Use <code>arrange()</code> on the <code>OxfordPots</code> table to sort the table by distance from Oxford. Hint: use the <code>OxfordDst</code> variable.</li>
</ul></li>
<li>Using the <code>DartPoints</code> dataset, make a boxplot of dart <code>Length</code> to visualize its distribution. Make sure to do all of the following:
<ul>
<li>Map the <code>Length</code> to the <code>x</code> aesthetic and the dart <code>Name</code> (or type) to the <code>y</code> aesthetic.</li>
<li>Update the axis labels and plot title using <code>labs()</code>.</li>
<li>Choose a suitable theme, like <code>theme_minimal()</code>.</li>
<li>Remove horizontal grid lines.</li>
</ul></li>
<li>Using the <code>DartPoints</code> dataset, build a linear model showing the relationship (if any) between the length and width of dart points. Be sure to do all of the following:
<ul>
<li>Conduct an ANOVA of this with <code>aov()</code>.</li>
<li>Use <code>summary()</code> to print the ANOVA table.</li>
<li>Use <code>summary()</code> to report the model.</li>
<li>What is the F-statistic? The p-value?</li>
<li>What about the R-Squared value? How much of the variance does the model explain?</li>
<li>What does this mean about the model relative to the null or intercept-only model?</li>
</ul></li>
<li>Using the <code>OxfordPots</code> dataset, build a linear model showing the relationship (if any) between the percentage of Oxford Pots found on an archaeological site and the distance of that site from the city of Oxford. Be sure to do all of the following:
<ul>
<li>Conduct an ANOVA of this with <code>aov()</code>.</li>
<li>Use <code>summary()</code> to print the ANOVA table.</li>
<li>Use <code>summary()</code> to report the model.</li>
<li>What is the F-statistic? The p-value?</li>
<li>What about the R-Squared value? How much of the variance does the model explain?</li>
<li>What does this mean about the model relative to the null or intercept-only model?</li>
</ul></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
